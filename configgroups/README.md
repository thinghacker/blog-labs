{"payload":{"allShortcutsEnabled":true,"fileTree":{"configgroups":{"items":[{"name":"routerconfigs","path":"configgroups/routerconfigs","contentType":"directory"},{"name":"README.md","path":"configgroups/README.md","contentType":"file"},{"name":"cfgrp-topology.png","path":"configgroups/cfgrp-topology.png","contentType":"file"},{"name":"cfgrp.yml","path":"configgroups/cfgrp.yml","contentType":"file"}],"totalCount":4},"":{"items":[{"name":"configgroups","path":"configgroups","contentType":"directory"},{"name":"01_BaseInfrastructureBuildandTest.md","path":"01_BaseInfrastructureBuildandTest.md","contentType":"file"},{"name":"02_L3ServiceBuildandTest.md","path":"02_L3ServiceBuildandTest.md","contentType":"file"},{"name":"03_L2ServiceBuildandTest.md","path":"03_L2ServiceBuildandTest.md","contentType":"file"},{"name":"04_PySROSandEHS.md","path":"04_PySROSandEHS.md","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"bgp-vpls.yml","path":"bgp-vpls.yml","contentType":"file"}],"totalCount":7}},"fileTreeProcessingTime":4.949545,"foldersToFetch":[],"reducedMotionEnabled":"system","repo":{"id":680068978,"defaultBranch":"main","name":"blog-labs","ownerLogin":"thinghacker","currentUserCanPush":true,"isFork":false,"isEmpty":false,"createdAt":"2023-08-18T19:10:28.000+10:00","ownerAvatar":"https://avatars.githubusercontent.com/u/36720937?v=4","public":true,"private":false,"isOrgOwned":false},"symbolsExpanded":false,"treeExpanded":true,"refInfo":{"name":"main","listCacheKey":"v0:1692349910.0","canEdit":true,"refType":"branch","currentOid":"7ec82282a76f1908c3aa151f94a9b6239bf30544"},"path":"configgroups/README.md","currentUser":{"id":36720937,"login":"thinghacker","userEmail":"adam.booth@gmail.com"},"blob":{"rawLines":null,"stylingDirectives":null,"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":null,"configFilePath":null,"networkDependabotPath":"/thinghacker/blog-labs/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":false,"repoAlertsPath":"/thinghacker/blog-labs/security/dependabot","repoSecurityAndAnalysisPath":"/thinghacker/blog-labs/settings/security_analysis","repoOwnerIsOrg":false,"currentUserCanAdminRepo":true},"displayName":"README.md","displayUrl":"https://github.com/thinghacker/blog-labs/blob/main/configgroups/README.md?raw=true","headerInfo":{"blobSize":"32.6 KB","deleteInfo":{"deleteTooltip":"Delete this file"},"editInfo":{"editTooltip":"Edit this file"},"ghDesktopPath":"https://desktop.github.com","gitLfsPath":null,"onBranch":true,"shortPath":"1fa4408","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fthinghacker%2Fblog-labs%2Fblob%2Fmain%2Fconfiggroups%2FREADME.md","isCSV":false,"isRichtext":true,"toc":[{"level":1,"text":"Containerlab topology to demonstrate Configuration Groups in Nokia SROS Model Driven CLI","anchor":"containerlab-topology-to-demonstrate-configuration-groups-in-nokia-sros-model-driven-cli","htmlText":"Containerlab topology to demonstrate Configuration Groups in Nokia SROS Model Driven CLI"},{"level":2,"text":"Step #0 - Obtain Containerlab","anchor":"step-0---obtain-containerlab","htmlText":"Step #0 - Obtain Containerlab"},{"level":2,"text":"Step #1 - Ensure that you have a SROS docker image and valid license key","anchor":"step-1---ensure-that-you-have-a-sros-docker-image-and-valid-license-key","htmlText":"Step #1 - Ensure that you have a SROS docker image and valid license key"},{"level":2,"text":"Step #2 - Start the Container Lab Instance","anchor":"step-2---start-the-container-lab-instance","htmlText":"Step #2 - Start the Container Lab Instance"},{"level":2,"text":"Step #3 - Wait until all of the routers are \"Healthy\"","anchor":"step-3---wait-until-all-of-the-routers-are-healthy","htmlText":"Step #3 - Wait until all of the routers are \"Healthy\""},{"level":2,"text":"Step #4 - Connect to the Hub Router and start configuring the ports facing towards R1, R2 and R3","anchor":"step-4---connect-to-the-hub-router-and-start-configuring-the-ports-facing-towards-r1-r2-and-r3","htmlText":"Step #4 - Connect to the Hub Router and start configuring the ports facing towards R1, R2 and R3"},{"level":2,"text":"Step #5 - Create Configuration Groups for our Ethernet Ports","anchor":"step-5---create-configuration-groups-for-our-ethernet-ports","htmlText":"Step #5 - Create Configuration Groups for our Ethernet Ports"},{"level":2,"text":"Step #6 - Templating to Support IP Interface definitions","anchor":"step-6---templating-to-support-ip-interface-definitions","htmlText":"Step #6 - Templating to Support IP Interface definitions"},{"level":2,"text":"Step #7 - Templates in Routing","anchor":"step-7---templates-in-routing","htmlText":"Step #7 - Templates in Routing"},{"level":3,"text":"Final Words","anchor":"final-words","htmlText":"Final Words"}],"lineInfo":{"truncatedLoc":"886","truncatedSloc":"751"},"mode":"file"},"image":false,"isCodeownersFile":null,"isPlain":false,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"Markdown","languageID":222,"large":false,"loggedIn":true,"newDiscussionPath":"/thinghacker/blog-labs/discussions/new","newIssuePath":"/thinghacker/blog-labs/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/thinghacker/blog-labs/blob/main/configgroups/README.md","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/thinghacker/blog-labs/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"rawBlobUrl":"https://github.com/thinghacker/blog-labs/raw/main/configgroups/README.md","renderImageOrRaw":false,"richText":"<article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-containerlab-topology-to-demonstrate-configuration-groups-in-nokia-sros-model-driven-cli\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#containerlab-topology-to-demonstrate-configuration-groups-in-nokia-sros-model-driven-cli\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Containerlab topology to demonstrate Configuration Groups in Nokia SROS Model Driven CLI</h1>\n<p dir=\"auto\">This lab is part of a blog post at <a href=\"https://www.thingnetwork.io/nokia-sros-md-cli-annotations-and-configuration-groups/\" rel=\"nofollow\">https://www.thingnetwork.io/nokia-sros-md-cli-annotations-and-configuration-groups/</a></p>\n<p dir=\"auto\">Configuration Groups are router embedded configuration template concept that has been part of SROS MD-CLI Since Release 16</p>\n<p dir=\"auto\">Configuration groups is to reduce configurations by having re-usable components that are automatically expanded within the base configuration.<br>\nAdvantages of Configuration Groups are:</p>\n<ul dir=\"auto\">\n<li>Blocks of Config can be defined once and re-used many times</li>\n<li>Giving the config group a meaningful name helps document what is being done without necessarily needing to look into that part of the config (though you can see what has occurred - inheritance)</li>\n<li>The configuration file line count is less than it would be without using config groups</li>\n<li>Copying and pasting big chunks of common config could result in missing parts or errors that might be difficult to identify and resolve</li>\n</ul>\n<p dir=\"auto\">This ocontrived example has a 4 router topology in a hub-and-spoke deployment.  Through this example you should be able to see where configuration groups reduce the Hub router's configuration quite significantly and helps make it easier to tell what is happening.</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/thinghacker/blog-labs/blob/main/configgroups/cfgrp-topology.png\"><img src=\"/thinghacker/blog-labs/raw/main/configgroups/cfgrp-topology.png\" alt=\"4 Router OSPF Topology\" title=\"Generated Containerlab Topology\" style=\"max-width: 100%;\"></a></p>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-step-0---obtain-containerlab\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-0---obtain-containerlab\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Step #0 - Obtain Containerlab</h2>\n<p dir=\"auto\"><a href=\"https://containerlab.dev/install/\" rel=\"nofollow\">https://containerlab.dev/install/</a></p>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-step-1---ensure-that-you-have-a-sros-docker-image-and-valid-license-key\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-1---ensure-that-you-have-a-sros-docker-image-and-valid-license-key\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Step #1 - Ensure that you have a SROS docker image and valid license key</h2>\n<p dir=\"auto\">If necessary edit cfgrp.yml lines 6 (reference to SROS container image) and 7 (pointer to license key) to align with your environment (this lab is using SROS version 23.7.R1).</p>\n<p dir=\"auto\">For instructions on creating a docker image if you have a <a href=\"https://containerlab.dev/manual/vrnetlab/\" rel=\"nofollow\">https://containerlab.dev/manual/vrnetlab/</a>\nFor a valid license key, reach out to your appropriate Nokia contact.</p>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-step-2---start-the-container-lab-instance\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-2---start-the-container-lab-instance\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Step #2 - Start the Container Lab Instance</h2>\n<p dir=\"auto\">This is where the 4 routers and associated interconnections described in <em>cfgrp.yml</em> will be instantiated</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"sudo containerlab deploy --reconfigure --topo cfgrp.yml\"><pre class=\"notranslate\"><code>sudo containerlab deploy --reconfigure --topo cfgrp.yml\n</code></pre></div>\n<p dir=\"auto\">The <em>reconfigure</em> flag will ignore any previous router configurations that may have been saved (this may or may not be desired - exclude this flag as required)</p>\n<p dir=\"auto\">the routerconfigs folder contains the configurations for R1, R2 and R3 which will be loaded as part of the deployment.  Hub.txt is included as a reference however this is not deployed and this example will step through activities to create and apply the configuration groups.</p>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-step-3---wait-until-all-of-the-routers-are-healthy\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-3---wait-until-all-of-the-routers-are-healthy\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Step #3 - Wait until all of the routers are \"Healthy\"</h2>\n<p dir=\"auto\">Using the following command to check the operating state of each of the routers.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"watch 'docker ps --format &quot;Name: {{.Names}}, Status: {{.Status}}&quot; | grep clab'\"><pre class=\"notranslate\"><code>watch 'docker ps --format \"Name: {{.Names}}, Status: {{.Status}}\" | grep clab'\n</code></pre></div>\n<p dir=\"auto\">Typically it will take around 3 minutes for the routers to be available - the Display should eventually show the following when things are ready</p>\n<p dir=\"auto\">Hit control-c to quit the watch once your routers are ready to use/</p>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-step-4---connect-to-the-hub-router-and-start-configuring-the-ports-facing-towards-r1-r2-and-r3\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-4---connect-to-the-hub-router-and-start-configuring-the-ports-facing-towards-r1-r2-and-r3\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Step #4 - Connect to the Hub Router and start configuring the ports facing towards R1, R2 and R3</h2>\n<p dir=\"auto\">Ethernet connectors are parent level ports that can be configured in different ways.  For the purposes of this demo, they will be configured to operate as a direct breakout with a single 100G Ethernet interface attached.</p>\n<p dir=\"auto\">The following are the ports on the Hub Router facing towards R1, R2 and R3</p>\n<table>\n<thead>\n<tr>\n<th>Connector Port</th>\n<th>Ethernet Port</th>\n<th>Far End Router</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1/1/c1</td>\n<td>1/1/c1/1</td>\n<td>R1</td>\n</tr>\n<tr>\n<td>1/1/c2</td>\n<td>1/1/c2/1</td>\n<td>R2</td>\n</tr>\n<tr>\n<td>1/1/c3</td>\n<td>1/1/c3/1</td>\n<td>R3</td>\n</tr>\n</tbody>\n</table>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ ssh admin@clab-cfgrp-hub\nA:admin@Hub# show port\n\n===============================================================================\nPorts on Slot 1\n===============================================================================\nPort          Admin Link Port    Cfg  Oper LAG/ Port Port Port   C/QS/S/XFP/\nId            State      State   MTU  MTU  Bndl Mode Encp Type   MDIMDX\n-------------------------------------------------------------------------------\n1/1/c1        Down       Down                             conn   100GBASE-LR4*\n1/1/c2        Down       Down                             conn   100GBASE-LR4*\n1/1/c3        Down       Down                             conn   100GBASE-LR4*\n1/1/c4        Down       Down                             conn   100GBASE-LR4*\n1/1/c5        Down       Down                             conn   100GBASE-LR4*\n1/1/c6        Down       Down                             conn   100GBASE-LR4*\n1/1/c7        Down       Down                             conn   100GBASE-LR4*\n1/1/c8        Down       Down                             conn   100GBASE-LR4*\n1/1/c9        Down       Down                             conn   100GBASE-LR4*\n1/1/c10       Down       Down                             conn   100GBASE-LR4*\n1/1/c11       Down       Down                             conn   100GBASE-LR4*\n1/1/c12       Down       Down                             conn   100GBASE-LR4*\n\n===============================================================================\nPorts on Slot A\n===============================================================================\nPort          Admin Link Port    Cfg  Oper LAG/ Port Port Port   C/QS/S/XFP/\nId            State      State   MTU  MTU  Bndl Mode Encp Type   MDIMDX\n-------------------------------------------------------------------------------\nA/1           Up    Yes  Up      1514 1514    - netw null faste  MDI\nA/3           Down  No   Down    1514 1514    - netw null faste\nA/4           Down  No   Down    1514 1514    - netw null faste\n===============================================================================\n\n[/]\nA:admin@Hub# configure global\n[gl:/configure]\nA:admin@Hub# port 1/1/c1\n\n[gl:/configure port 1/1/c1]\nA:admin@Hub# connector breakout c1-100g\n\n*[gl:/configure port 1/1/c1]\nA:admin@Hub# admin-state enable\n\n*[gl:/configure port 1/1/c1]\nA:admin@Hub# back\n\n*[gl:/configure]\nA:admin@Hub# port 1/1/c2\n\n*[gl:/configure port 1/1/c2]\nA:admin@Hub# connector breakout c1-100g\n\n*[gl:/configure port 1/1/c2]\nA:admin@Hub# admin-state enable\n\n*[gl:/configure port 1/1/c2]\nA:admin@Hub# back\n\n*[gl:/configure]\nA:admin@Hub# port 1/1/c3\n\n*[gl:/configure port 1/1/c3]\nA:admin@Hub# connector breakout c1-100g\n\n*[gl:/configure port 1/1/c3]\nA:admin@Hub# admin-state enable\n\n*[gl:/configure port 1/1/c3]\nA:admin@Hub# back\"><pre class=\"notranslate\"><code>$ ssh admin@clab-cfgrp-hub\nA:admin@Hub# show port\n\n===============================================================================\nPorts on Slot 1\n===============================================================================\nPort          Admin Link Port    Cfg  Oper LAG/ Port Port Port   C/QS/S/XFP/\nId            State      State   MTU  MTU  Bndl Mode Encp Type   MDIMDX\n-------------------------------------------------------------------------------\n1/1/c1        Down       Down                             conn   100GBASE-LR4*\n1/1/c2        Down       Down                             conn   100GBASE-LR4*\n1/1/c3        Down       Down                             conn   100GBASE-LR4*\n1/1/c4        Down       Down                             conn   100GBASE-LR4*\n1/1/c5        Down       Down                             conn   100GBASE-LR4*\n1/1/c6        Down       Down                             conn   100GBASE-LR4*\n1/1/c7        Down       Down                             conn   100GBASE-LR4*\n1/1/c8        Down       Down                             conn   100GBASE-LR4*\n1/1/c9        Down       Down                             conn   100GBASE-LR4*\n1/1/c10       Down       Down                             conn   100GBASE-LR4*\n1/1/c11       Down       Down                             conn   100GBASE-LR4*\n1/1/c12       Down       Down                             conn   100GBASE-LR4*\n\n===============================================================================\nPorts on Slot A\n===============================================================================\nPort          Admin Link Port    Cfg  Oper LAG/ Port Port Port   C/QS/S/XFP/\nId            State      State   MTU  MTU  Bndl Mode Encp Type   MDIMDX\n-------------------------------------------------------------------------------\nA/1           Up    Yes  Up      1514 1514    - netw null faste  MDI\nA/3           Down  No   Down    1514 1514    - netw null faste\nA/4           Down  No   Down    1514 1514    - netw null faste\n===============================================================================\n\n[/]\nA:admin@Hub# configure global\n[gl:/configure]\nA:admin@Hub# port 1/1/c1\n\n[gl:/configure port 1/1/c1]\nA:admin@Hub# connector breakout c1-100g\n\n*[gl:/configure port 1/1/c1]\nA:admin@Hub# admin-state enable\n\n*[gl:/configure port 1/1/c1]\nA:admin@Hub# back\n\n*[gl:/configure]\nA:admin@Hub# port 1/1/c2\n\n*[gl:/configure port 1/1/c2]\nA:admin@Hub# connector breakout c1-100g\n\n*[gl:/configure port 1/1/c2]\nA:admin@Hub# admin-state enable\n\n*[gl:/configure port 1/1/c2]\nA:admin@Hub# back\n\n*[gl:/configure]\nA:admin@Hub# port 1/1/c3\n\n*[gl:/configure port 1/1/c3]\nA:admin@Hub# connector breakout c1-100g\n\n*[gl:/configure port 1/1/c3]\nA:admin@Hub# admin-state enable\n\n*[gl:/configure port 1/1/c3]\nA:admin@Hub# back\n</code></pre></div>\n<p dir=\"auto\">We can compare the config to what it was previously before we commit it</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"*[gl:/configure]\nA:admin@Hub# compare\n+   port 1/1/c1 {\n+       admin-state enable\n+       connector {\n+           breakout c1-100g\n+       }\n+   }\n+   port 1/1/c2 {\n+       admin-state enable\n+       connector {\n+           breakout c1-100g\n+       }\n+   }\n+   port 1/1/c3 {\n+       admin-state enable\n+       connector {\n+           breakout c1-100g\n+       }\n+   }\n\n*[gl:/configure]\nA:admin@Hub# commit\n\n[gl:/configure]\nA:admin@Hub# show port\n\n===============================================================================\nPorts on Slot 1\n===============================================================================\nPort          Admin Link Port    Cfg  Oper LAG/ Port Port Port   C/QS/S/XFP/\nId            State      State   MTU  MTU  Bndl Mode Encp Type   MDIMDX\n-------------------------------------------------------------------------------\n1/1/c1        Up         Link Up                          conn   100GBASE-LR4*\n1/1/c1/1      Down  No   Down    9212 9212    - netw null cgige\n1/1/c2        Up         Link Up                          conn   100GBASE-LR4*\n1/1/c2/1      Down  No   Down    9212 9212    - netw null cgige\n1/1/c3        Up         Link Up                          conn   100GBASE-LR4*\n1/1/c3/1      Down  No   Down    9212 9212    - netw null cgige\n1/1/c4        Down       Down                             conn   100GBASE-LR4*\n1/1/c5        Down       Down                             conn   100GBASE-LR4*\n1/1/c6        Down       Down                             conn   100GBASE-LR4*\n1/1/c7        Down       Down                             conn   100GBASE-LR4*\n1/1/c8        Down       Down                             conn   100GBASE-LR4*\n1/1/c9        Down       Down                             conn   100GBASE-LR4*\n1/1/c10       Down       Down                             conn   100GBASE-LR4*\n1/1/c11       Down       Down                             conn   100GBASE-LR4*\n1/1/c12       Down       Down                             conn   100GBASE-LR4*\n\n===============================================================================\nPorts on Slot A\n===============================================================================\nPort          Admin Link Port    Cfg  Oper LAG/ Port Port Port   C/QS/S/XFP/\nId            State      State   MTU  MTU  Bndl Mode Encp Type   MDIMDX\n-------------------------------------------------------------------------------\nA/1           Up    Yes  Up      1514 1514    - netw null faste  MDI\nA/3           Down  No   Down    1514 1514    - netw null faste\nA/4           Down  No   Down    1514 1514    - netw null faste\n===============================================================================\"><pre class=\"notranslate\"><code>*[gl:/configure]\nA:admin@Hub# compare\n+   port 1/1/c1 {\n+       admin-state enable\n+       connector {\n+           breakout c1-100g\n+       }\n+   }\n+   port 1/1/c2 {\n+       admin-state enable\n+       connector {\n+           breakout c1-100g\n+       }\n+   }\n+   port 1/1/c3 {\n+       admin-state enable\n+       connector {\n+           breakout c1-100g\n+       }\n+   }\n\n*[gl:/configure]\nA:admin@Hub# commit\n\n[gl:/configure]\nA:admin@Hub# show port\n\n===============================================================================\nPorts on Slot 1\n===============================================================================\nPort          Admin Link Port    Cfg  Oper LAG/ Port Port Port   C/QS/S/XFP/\nId            State      State   MTU  MTU  Bndl Mode Encp Type   MDIMDX\n-------------------------------------------------------------------------------\n1/1/c1        Up         Link Up                          conn   100GBASE-LR4*\n1/1/c1/1      Down  No   Down    9212 9212    - netw null cgige\n1/1/c2        Up         Link Up                          conn   100GBASE-LR4*\n1/1/c2/1      Down  No   Down    9212 9212    - netw null cgige\n1/1/c3        Up         Link Up                          conn   100GBASE-LR4*\n1/1/c3/1      Down  No   Down    9212 9212    - netw null cgige\n1/1/c4        Down       Down                             conn   100GBASE-LR4*\n1/1/c5        Down       Down                             conn   100GBASE-LR4*\n1/1/c6        Down       Down                             conn   100GBASE-LR4*\n1/1/c7        Down       Down                             conn   100GBASE-LR4*\n1/1/c8        Down       Down                             conn   100GBASE-LR4*\n1/1/c9        Down       Down                             conn   100GBASE-LR4*\n1/1/c10       Down       Down                             conn   100GBASE-LR4*\n1/1/c11       Down       Down                             conn   100GBASE-LR4*\n1/1/c12       Down       Down                             conn   100GBASE-LR4*\n\n===============================================================================\nPorts on Slot A\n===============================================================================\nPort          Admin Link Port    Cfg  Oper LAG/ Port Port Port   C/QS/S/XFP/\nId            State      State   MTU  MTU  Bndl Mode Encp Type   MDIMDX\n-------------------------------------------------------------------------------\nA/1           Up    Yes  Up      1514 1514    - netw null faste  MDI\nA/3           Down  No   Down    1514 1514    - netw null faste\nA/4           Down  No   Down    1514 1514    - netw null faste\n===============================================================================\n</code></pre></div>\n<p dir=\"auto\">While the Connectors have been configured and the Ethernet Ports are available, we now need to apply configurations onto them</p>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-step-5---create-configuration-groups-for-our-ethernet-ports\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-5---create-configuration-groups-for-our-ethernet-ports\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Step #5 - Create Configuration Groups for our Ethernet Ports</h2>\n<p dir=\"auto\">This is the first configuration group we are going to set up - this will capture a lot of port related config in one place</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"configure global\n    groups {\n        # comment: Default Infrastructure Port Configuration\n        group &quot;infra-port&quot; {\n            port &quot;&lt;.*&gt;&quot; {\n                ethernet {\n                    mode network\n                    encap-type null\n                    mtu 9800\n                    efm-oam {\n                        admin-state enable\n                        link-monitoring {\n                            admin-state enable\n                            errored-frame {\n                                admin-state enable\n                            }\n                            errored-frame-period {\n                                admin-state enable\n                            }\n                            errored-frame-seconds {\n                                admin-state enable\n                            }\n                            local-sf-action {\n                                local-port-action log-only\n                            }\n                        }\n                    }\n                    lldp {\n                        dest-mac nearest-bridge {\n                            notification true\n                            receive true\n                            transmit true\n                            tx-tlvs {\n                                port-desc true\n                                sys-name true\n                                sys-desc true\n                                sys-cap true\n                            }\n                            tx-mgmt-address system {\n                                admin-state enable\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\ncommit\n\"><pre class=\"notranslate\"><code>configure global\n    groups {\n        # comment: Default Infrastructure Port Configuration\n        group \"infra-port\" {\n            port \"&lt;.*&gt;\" {\n                ethernet {\n                    mode network\n                    encap-type null\n                    mtu 9800\n                    efm-oam {\n                        admin-state enable\n                        link-monitoring {\n                            admin-state enable\n                            errored-frame {\n                                admin-state enable\n                            }\n                            errored-frame-period {\n                                admin-state enable\n                            }\n                            errored-frame-seconds {\n                                admin-state enable\n                            }\n                            local-sf-action {\n                                local-port-action log-only\n                            }\n                        }\n                    }\n                    lldp {\n                        dest-mac nearest-bridge {\n                            notification true\n                            receive true\n                            transmit true\n                            tx-tlvs {\n                                port-desc true\n                                sys-name true\n                                sys-desc true\n                                sys-cap true\n                            }\n                            tx-mgmt-address system {\n                                admin-state enable\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\ncommit\n\n</code></pre></div>\n<p dir=\"auto\">This block of config <strong>infra-port</strong> will be applied to the ethernet ports we care about and they will inherrit the configurations</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"[gl:/configure]\nA:admin@Hub# port 1/1/c1/1\n\n*[gl:/configure port 1/1/c1/1]\nA:admin@Hub# apply-groups &quot;infra-port&quot;\"><pre class=\"notranslate\"><code>[gl:/configure]\nA:admin@Hub# port 1/1/c1/1\n\n*[gl:/configure port 1/1/c1/1]\nA:admin@Hub# apply-groups \"infra-port\"\n</code></pre></div>\n<p dir=\"auto\">Lets review the configuration on the port right now</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"*[gl:/configure port 1/1/c1/1]\nA:admin@Hub# info\n    apply-groups [&quot;infra-port&quot;]\"><pre class=\"notranslate\"><code>*[gl:/configure port 1/1/c1/1]\nA:admin@Hub# info\n    apply-groups [\"infra-port\"]\n</code></pre></div>\n<p dir=\"auto\">To see what the apply-group does, we can use the \"inheritance\" keyword after info to see what got applied</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"*[gl:/configure port 1/1/c1/1]\nA:admin@Hub# info inheritance\n    apply-groups [&quot;infra-port&quot;]\n    ethernet {\n        ## inherited: from group &quot;infra-port&quot;\n        mode network\n        ## inherited: from group &quot;infra-port&quot;\n        encap-type null\n        ## inherited: from group &quot;infra-port&quot;\n        mtu 9800\n        efm-oam {\n            ## inherited: from group &quot;infra-port&quot;\n            admin-state enable\n            link-monitoring {\n                ## inherited: from group &quot;infra-port&quot;\n                admin-state enable\n                errored-frame {\n                    ## inherited: from group &quot;infra-port&quot;\n                    admin-state enable\n                }\n                errored-frame-period {\n                    ## inherited: from group &quot;infra-port&quot;\n                    admin-state enable\n                }\n                errored-frame-seconds {\n                    ## inherited: from group &quot;infra-port&quot;\n                    admin-state enable\n                }\n                local-sf-action {\n                    ## inherited: from group &quot;infra-port&quot;\n                    local-port-action log-only\n                }\n            }\n        }\n        lldp {\n            dest-mac nearest-bridge {\n                ## inherited: from group &quot;infra-port&quot;\n                notification true\n                ## inherited: from group &quot;infra-port&quot;\n                receive true\n                ## inherited: from group &quot;infra-port&quot;\n                transmit true\n                tx-tlvs {\n                    ## inherited: from group &quot;infra-port&quot;\n                    port-desc true\n                    ## inherited: from group &quot;infra-port&quot;\n                    sys-name true\n                    ## inherited: from group &quot;infra-port&quot;\n                    sys-desc true\n                    ## inherited: from group &quot;infra-port&quot;\n                    sys-cap true\n                }\n                tx-mgmt-address system {\n                    ## inherited: from group &quot;infra-port&quot;\n                    admin-state enable\n                }\n            }\n        }\n    }\"><pre class=\"notranslate\"><code>*[gl:/configure port 1/1/c1/1]\nA:admin@Hub# info inheritance\n    apply-groups [\"infra-port\"]\n    ethernet {\n        ## inherited: from group \"infra-port\"\n        mode network\n        ## inherited: from group \"infra-port\"\n        encap-type null\n        ## inherited: from group \"infra-port\"\n        mtu 9800\n        efm-oam {\n            ## inherited: from group \"infra-port\"\n            admin-state enable\n            link-monitoring {\n                ## inherited: from group \"infra-port\"\n                admin-state enable\n                errored-frame {\n                    ## inherited: from group \"infra-port\"\n                    admin-state enable\n                }\n                errored-frame-period {\n                    ## inherited: from group \"infra-port\"\n                    admin-state enable\n                }\n                errored-frame-seconds {\n                    ## inherited: from group \"infra-port\"\n                    admin-state enable\n                }\n                local-sf-action {\n                    ## inherited: from group \"infra-port\"\n                    local-port-action log-only\n                }\n            }\n        }\n        lldp {\n            dest-mac nearest-bridge {\n                ## inherited: from group \"infra-port\"\n                notification true\n                ## inherited: from group \"infra-port\"\n                receive true\n                ## inherited: from group \"infra-port\"\n                transmit true\n                tx-tlvs {\n                    ## inherited: from group \"infra-port\"\n                    port-desc true\n                    ## inherited: from group \"infra-port\"\n                    sys-name true\n                    ## inherited: from group \"infra-port\"\n                    sys-desc true\n                    ## inherited: from group \"infra-port\"\n                    sys-cap true\n                }\n                tx-mgmt-address system {\n                    ## inherited: from group \"infra-port\"\n                    admin-state enable\n                }\n            }\n        }\n    }\n</code></pre></div>\n<p dir=\"auto\">If the source as to which config group takes up some space <strong>## inherited: from group \"infra-port\"</strong> but we can filter it out if we like</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"*[gl:/configure port 1/1/c1/1]\nA:admin@Hub# info inheritance | match &quot;##&quot; invert-match\n    apply-groups [&quot;infra-port&quot;]\n    ethernet {\n        mode network\n        encap-type null\n        mtu 9800\n        efm-oam {\n            admin-state enable\n            link-monitoring {\n                admin-state enable\n                errored-frame {\n                    admin-state enable\n                }\n                errored-frame-period {\n                    admin-state enable\n                }\n                errored-frame-seconds {\n                    admin-state enable\n                }\n                local-sf-action {\n                    local-port-action log-only\n                }\n            }\n        }\n        lldp {\n            dest-mac nearest-bridge {\n                notification true\n                receive true\n                transmit true\n                tx-tlvs {\n                    port-desc true\n                    sys-name true\n                    sys-desc true\n                    sys-cap true\n                }\n                tx-mgmt-address system {\n                    admin-state enable\n                }\n            }\n        }\n    }\"><pre class=\"notranslate\"><code>*[gl:/configure port 1/1/c1/1]\nA:admin@Hub# info inheritance | match \"##\" invert-match\n    apply-groups [\"infra-port\"]\n    ethernet {\n        mode network\n        encap-type null\n        mtu 9800\n        efm-oam {\n            admin-state enable\n            link-monitoring {\n                admin-state enable\n                errored-frame {\n                    admin-state enable\n                }\n                errored-frame-period {\n                    admin-state enable\n                }\n                errored-frame-seconds {\n                    admin-state enable\n                }\n                local-sf-action {\n                    local-port-action log-only\n                }\n            }\n        }\n        lldp {\n            dest-mac nearest-bridge {\n                notification true\n                receive true\n                transmit true\n                tx-tlvs {\n                    port-desc true\n                    sys-name true\n                    sys-desc true\n                    sys-cap true\n                }\n                tx-mgmt-address system {\n                    admin-state enable\n                }\n            }\n        }\n    }\n</code></pre></div>\n<p dir=\"auto\">This matches our intent which is great, the only thing left is to enable the interface (this is something that could be added within the config group too but it's a good idea to explicitly keep the admin-state on the thing that has the group attached to it.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"*[gl:/configure port 1/1/c1/1]\nA:admin@Hub# admin-state enable\"><pre class=\"notranslate\"><code>*[gl:/configure port 1/1/c1/1]\nA:admin@Hub# admin-state enable\n</code></pre></div>\n<p dir=\"auto\">Lets apply this to the ports connecting to R2 and R3 as well</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"*[gl:/configure port 1/1/c1/1]\nA:admin@Hub# back\n\n*[gl:/configure]\nA:admin@Hub# port 1/1/c2/1\n\n*[gl:/configure port 1/1/c2/1]\nA:admin@Hub# apply-groups &quot;infra-port&quot;\n\n*[gl:/configure port 1/1/c2/1]\nA:admin@Hub# admin-state enable\n\n*[gl:/configure port 1/1/c2/1]\nA:admin@Hub# back\n\n*[gl:/configure]\nA:admin@Hub# port 1/1/c3/1\n\n*[gl:/configure port 1/1/c3/1]\nA:admin@Hub# apply-groups &quot;infra-port&quot;\n\n*[gl:/configure port 1/1/c3/1]\nA:admin@Hub# admin-state enable\n\n*[gl:/configure port 1/1/c3/1]\nA:admin@Hub# commit\n\"><pre class=\"notranslate\"><code>*[gl:/configure port 1/1/c1/1]\nA:admin@Hub# back\n\n*[gl:/configure]\nA:admin@Hub# port 1/1/c2/1\n\n*[gl:/configure port 1/1/c2/1]\nA:admin@Hub# apply-groups \"infra-port\"\n\n*[gl:/configure port 1/1/c2/1]\nA:admin@Hub# admin-state enable\n\n*[gl:/configure port 1/1/c2/1]\nA:admin@Hub# back\n\n*[gl:/configure]\nA:admin@Hub# port 1/1/c3/1\n\n*[gl:/configure port 1/1/c3/1]\nA:admin@Hub# apply-groups \"infra-port\"\n\n*[gl:/configure port 1/1/c3/1]\nA:admin@Hub# admin-state enable\n\n*[gl:/configure port 1/1/c3/1]\nA:admin@Hub# commit\n\n</code></pre></div>\n<p dir=\"auto\">The other routers were pre configured to save time, so we should see that the interfaces are up (EFM-OAM is happy and that we can see our LLDP neighbors)</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"[gl:/configure]\nA:admin@Hub# show port 1/1/c1/1 | match efm ignore-case\nEFM OAM            : Enabled                    EFM OAM Link Mon : Enabled\nIgnr EFM OAM State : False\n\n[gl:/configure]\nA:admin@Hub# show port 1/1/c2/1 | match efm ignore-case\nEFM OAM            : Enabled                    EFM OAM Link Mon : Enabled\nIgnr EFM OAM State : False\n\n[gl:/configure]\nA:admin@Hub# show port 1/1/c3/1 | match efm ignore-case\nEFM OAM            : Enabled                    EFM OAM Link Mon : Enabled\nIgnr EFM OAM State : False\n\n[gl:/configure]\nA:admin@Hub# show system lldp neighbor\nLink Layer Discovery Protocol (LLDP) System Information\n\n===============================================================================\nNB = nearest-bridge   NTPMR = nearest-non-tpmr   NC = nearest-customer\n===============================================================================\nLcl Port      Scope Remote Chassis ID  Index  Remote Port     Remote Sys Name\n-------------------------------------------------------------------------------\n1/1/c1/1      NB    0C:00:AD:0F:C4:00  1      1/1/c1/1, 100-* R1\n1/1/c3/1      NB    0C:00:7A:31:8E:00  2      1/1/c1/1, 100-* R3\n1/1/c2/1      NB    0C:00:7A:A9:09:00  3      1/1/c1/1, 100-* R2\n===============================================================================\n* indicates that the corresponding row element may have been truncated.\nNumber of neighbors : 3\"><pre class=\"notranslate\"><code>[gl:/configure]\nA:admin@Hub# show port 1/1/c1/1 | match efm ignore-case\nEFM OAM            : Enabled                    EFM OAM Link Mon : Enabled\nIgnr EFM OAM State : False\n\n[gl:/configure]\nA:admin@Hub# show port 1/1/c2/1 | match efm ignore-case\nEFM OAM            : Enabled                    EFM OAM Link Mon : Enabled\nIgnr EFM OAM State : False\n\n[gl:/configure]\nA:admin@Hub# show port 1/1/c3/1 | match efm ignore-case\nEFM OAM            : Enabled                    EFM OAM Link Mon : Enabled\nIgnr EFM OAM State : False\n\n[gl:/configure]\nA:admin@Hub# show system lldp neighbor\nLink Layer Discovery Protocol (LLDP) System Information\n\n===============================================================================\nNB = nearest-bridge   NTPMR = nearest-non-tpmr   NC = nearest-customer\n===============================================================================\nLcl Port      Scope Remote Chassis ID  Index  Remote Port     Remote Sys Name\n-------------------------------------------------------------------------------\n1/1/c1/1      NB    0C:00:AD:0F:C4:00  1      1/1/c1/1, 100-* R1\n1/1/c3/1      NB    0C:00:7A:31:8E:00  2      1/1/c1/1, 100-* R3\n1/1/c2/1      NB    0C:00:7A:A9:09:00  3      1/1/c1/1, 100-* R2\n===============================================================================\n* indicates that the corresponding row element may have been truncated.\nNumber of neighbors : 3\n</code></pre></div>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-step-6---templating-to-support-ip-interface-definitions\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-6---templating-to-support-ip-interface-definitions\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Step #6 - Templating to Support IP Interface definitions</h2>\n<p dir=\"auto\">This is builds upon the idea from ports and helps standardise our our IP interface configurations.</p>\n<p dir=\"auto\">First we will configure our system address (this is unique and small enough to not need to worry about a config group for it)</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"/configure global\n   router Base\n       interface system\n           ipv4 primary address 10.0.0.255 prefix-length 32\n   commit\"><pre class=\"notranslate\"><code>/configure global\n   router Base\n       interface system\n           ipv4 primary address 10.0.0.255 prefix-length 32\n   commit\n</code></pre></div>\n<p dir=\"auto\">Now lets create <strong>group \"infra-if-v4\"</strong> for our IP interfaces</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"/configure global\n    groups {\n        group &quot;infra-if-v4&quot; {\n            router &quot;&lt;.*&gt;&quot; {\n                interface &quot;&lt;.*&gt;&quot; {\n                    ipv4 {\n                        icmp {\n                            mask-reply false\n                            redirects {\n                                admin-state disable\n                            }\n                            unreachables {\n                                number 10\n                                seconds 10\n                            }\n                        }\n                        urpf-check {\n                            mode loose\n                        }\n                        bfd {\n                            admin-state enable\n                            transmit-interval 100\n                            receive 100\n                            multiplier 3\n                            type auto\n                        }\n                        primary {\n                            prefix-length 31\n                        }\n                        neighbor-discovery {\n                            proactive-refresh true\n                        }\n                    }\n                }\n            }\n        }\n    }\"><pre class=\"notranslate\"><code>/configure global\n    groups {\n        group \"infra-if-v4\" {\n            router \"&lt;.*&gt;\" {\n                interface \"&lt;.*&gt;\" {\n                    ipv4 {\n                        icmp {\n                            mask-reply false\n                            redirects {\n                                admin-state disable\n                            }\n                            unreachables {\n                                number 10\n                                seconds 10\n                            }\n                        }\n                        urpf-check {\n                            mode loose\n                        }\n                        bfd {\n                            admin-state enable\n                            transmit-interval 100\n                            receive 100\n                            multiplier 3\n                            type auto\n                        }\n                        primary {\n                            prefix-length 31\n                        }\n                        neighbor-discovery {\n                            proactive-refresh true\n                        }\n                    }\n                }\n            }\n        }\n    }\n</code></pre></div>\n<p dir=\"auto\">It can be seen that this config sets some IPv4 related interface settings such as unicast reverse-path forwarding protections, enabling BFD, some ICMP limits and even setting the prefix-length.  When we use this, all that will be necessary is to assign the primary IP and ensure that the interface is set to be admin-state enable, and the interface should be ready to go operational.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"/configure router interface R1\n    apply-groups [&quot;infra-if-v4&quot;]\n    admin-state enable\n    port 1/1/c1/1\n    ipv4 {\n        primary {\n            address 192.168.1.1\n        }\n    }\ncommit\"><pre class=\"notranslate\"><code>/configure router interface R1\n    apply-groups [\"infra-if-v4\"]\n    admin-state enable\n    port 1/1/c1/1\n    ipv4 {\n        primary {\n            address 192.168.1.1\n        }\n    }\ncommit\n</code></pre></div>\n<p dir=\"auto\">Let's check the config with the inheritance of the group</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"A:admin@Hub# info inheritance | match &quot;##&quot; invert-match\n    apply-groups [&quot;infra-if-v4&quot;]\n    port 1/1/c1/1\n    ipv4 {\n        icmp {\n            mask-reply false\n            redirects {\n                admin-state disable\n            }\n            unreachables {\n                number 10\n                seconds 10\n            }\n        }\n        urpf-check {\n            mode loose\n        }\n        bfd {\n            admin-state enable\n            transmit-interval 100\n            receive 100\n            multiplier 3\n            type auto\n        }\n        primary {\n            address 192.168.1.1\n            prefix-length 31\n        }\n        neighbor-discovery {\n            proactive-refresh true\n        }\n    }\"><pre class=\"notranslate\"><code>A:admin@Hub# info inheritance | match \"##\" invert-match\n    apply-groups [\"infra-if-v4\"]\n    port 1/1/c1/1\n    ipv4 {\n        icmp {\n            mask-reply false\n            redirects {\n                admin-state disable\n            }\n            unreachables {\n                number 10\n                seconds 10\n            }\n        }\n        urpf-check {\n            mode loose\n        }\n        bfd {\n            admin-state enable\n            transmit-interval 100\n            receive 100\n            multiplier 3\n            type auto\n        }\n        primary {\n            address 192.168.1.1\n            prefix-length 31\n        }\n        neighbor-discovery {\n            proactive-refresh true\n        }\n    }\n</code></pre></div>\n<p dir=\"auto\">Again R1/R2/R3 have been pre-configured so check connectivity with R1:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"[gl:/configure router &quot;Base&quot; interface &quot;R1&quot;]\nA:admin@Hub# ping 192.168.1.0\nPING 192.168.1.0 56 data bytes\n64 bytes from 192.168.1.0: icmp_seq=1 ttl=64 time=93.9ms.\n64 bytes from 192.168.1.0: icmp_seq=2 ttl=64 time=6.16ms.\n64 bytes from 192.168.1.0: icmp_seq=3 ttl=64 time=6.44ms.\n64 bytes from 192.168.1.0: icmp_seq=4 ttl=64 time=6.61ms.\n64 bytes from 192.168.1.0: icmp_seq=5 ttl=64 time=6.84ms.\n\n---- 192.168.1.0 PING Statistics ----\n5 packets transmitted, 5 packets received, 0.00% packet loss\n\"><pre class=\"notranslate\"><code>[gl:/configure router \"Base\" interface \"R1\"]\nA:admin@Hub# ping 192.168.1.0\nPING 192.168.1.0 56 data bytes\n64 bytes from 192.168.1.0: icmp_seq=1 ttl=64 time=93.9ms.\n64 bytes from 192.168.1.0: icmp_seq=2 ttl=64 time=6.16ms.\n64 bytes from 192.168.1.0: icmp_seq=3 ttl=64 time=6.44ms.\n64 bytes from 192.168.1.0: icmp_seq=4 ttl=64 time=6.61ms.\n64 bytes from 192.168.1.0: icmp_seq=5 ttl=64 time=6.84ms.\n\n---- 192.168.1.0 PING Statistics ----\n5 packets transmitted, 5 packets received, 0.00% packet loss\n\n</code></pre></div>\n<p dir=\"auto\">Apply a similar configuration towards R2 and R3:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"/configure router Base interface R2 apply-groups infra-if-v4\n/configure router Base interface R2 admin-state enable\n/configure router Base interface R2 port 1/1/c2/1\n/configure router Base interface R2 ipv4 primary address 192.168.2.1\n/configure router Base interface R3 apply-groups infra-if-v4\n/configure router Base interface R3 admin-state enable\n/configure router Base interface R3 port 1/1/c3/1\n/configure router Base interface R3 ipv4 primary address 192.168.3.1\ncommit\"><pre class=\"notranslate\"><code>/configure router Base interface R2 apply-groups infra-if-v4\n/configure router Base interface R2 admin-state enable\n/configure router Base interface R2 port 1/1/c2/1\n/configure router Base interface R2 ipv4 primary address 192.168.2.1\n/configure router Base interface R3 apply-groups infra-if-v4\n/configure router Base interface R3 admin-state enable\n/configure router Base interface R3 port 1/1/c3/1\n/configure router Base interface R3 ipv4 primary address 192.168.3.1\ncommit\n</code></pre></div>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"A:admin@Hub# show router interface\n\n===============================================================================\nInterface Table (Router: Base)\n===============================================================================\nInterface-Name                   Adm       Opr(v4/v6)  Mode    Port/SapId\n   IP-Address                                                  PfxState\n-------------------------------------------------------------------------------\nR1                               Up        Up/Down     Network 1/1/c1/1\n   192.168.1.1/31                                              n/a\nR2                               Up        Up/Down     Network 1/1/c2/1\n   192.168.2.1/31                                              n/a\nR3                               Up        Up/Down     Network 1/1/c3/1\n   192.168.3.1/31                                              n/a\nsystem                           Up        Up/Down     Network system\n   10.0.0.255/32                                               n/a\n-------------------------------------------------------------------------------\nInterfaces : 4\n===============================================================================\"><pre class=\"notranslate\"><code>A:admin@Hub# show router interface\n\n===============================================================================\nInterface Table (Router: Base)\n===============================================================================\nInterface-Name                   Adm       Opr(v4/v6)  Mode    Port/SapId\n   IP-Address                                                  PfxState\n-------------------------------------------------------------------------------\nR1                               Up        Up/Down     Network 1/1/c1/1\n   192.168.1.1/31                                              n/a\nR2                               Up        Up/Down     Network 1/1/c2/1\n   192.168.2.1/31                                              n/a\nR3                               Up        Up/Down     Network 1/1/c3/1\n   192.168.3.1/31                                              n/a\nsystem                           Up        Up/Down     Network system\n   10.0.0.255/32                                               n/a\n-------------------------------------------------------------------------------\nInterfaces : 4\n===============================================================================\n</code></pre></div>\n<h2 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-step-7---templates-in-routing\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#step-7---templates-in-routing\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Step #7 - Templates in Routing</h2>\n<p dir=\"auto\">This last example will show some concepts for using templates to support routing - in this case the templates are used on OSPF interfaces.  We will set the interface type, hello interval and subscribe to BFD</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"configure global\n    groups {\n        group &quot;infra-ospf&quot; {\n            router &quot;Base&quot; {\n                ospf &quot;&lt;.*&gt;&quot; {\n                    area &quot;&lt;.*&gt;&quot; {\n                        interface &quot;&lt;.*&gt;&quot; {\n                            advertise-router-capability true\n                            interface-type point-to-point\n                            hello-interval 1\n                            bfd-liveness {\n                                remain-down-on-failure true\n                            }\t\t\t\t\t\t\t\n                        }\n                    }\n                }\n            }\n        }\n   }\ncommit\n\"><pre class=\"notranslate\"><code>configure global\n    groups {\n        group \"infra-ospf\" {\n            router \"Base\" {\n                ospf \"&lt;.*&gt;\" {\n                    area \"&lt;.*&gt;\" {\n                        interface \"&lt;.*&gt;\" {\n                            advertise-router-capability true\n                            interface-type point-to-point\n                            hello-interval 1\n                            bfd-liveness {\n                                remain-down-on-failure true\n                            }\t\t\t\t\t\t\t\n                        }\n                    }\n                }\n            }\n        }\n   }\ncommit\n\n</code></pre></div>\n<p dir=\"auto\">This time, instead of attaching it to each interface, we will attach the policy to the ospf instance and the interface regular expression match <strong>\"&lt;.*&gt;\"</strong> should attach the relevant configuration to the interfaces.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"/configure router ospf\n    apply-groups [&quot;infra-ospf&quot;]\n    admin-state enable\n    advertise-router-capability as\n    traffic-engineering true\n    area 0.0.0.0 {\n        interface &quot;R1&quot; {\n            admin-state enable\n        }\n        interface &quot;R2&quot; {\n            admin-state enable\n        }\n        interface &quot;R3&quot; {\n            admin-state enable\n        }\n        interface &quot;system&quot; {\n            admin-state enable\n        }\n    }\ncommit\"><pre class=\"notranslate\"><code>/configure router ospf\n    apply-groups [\"infra-ospf\"]\n    admin-state enable\n    advertise-router-capability as\n    traffic-engineering true\n    area 0.0.0.0 {\n        interface \"R1\" {\n            admin-state enable\n        }\n        interface \"R2\" {\n            admin-state enable\n        }\n        interface \"R3\" {\n            admin-state enable\n        }\n        interface \"system\" {\n            admin-state enable\n        }\n    }\ncommit\n</code></pre></div>\n<p dir=\"auto\">Lets check the configuration applied:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"[gl:/configure router &quot;Base&quot; ospf 0]\nA:admin@Hub# info intended | match &quot;##&quot; invert-match\n    admin-state enable\n    advertise-router-capability as\n    traffic-engineering true\n    area 0.0.0.0 {\n        interface &quot;R1&quot; {\n            admin-state enable\n            advertise-router-capability true\n            interface-type point-to-point\n            hello-interval 1\n            bfd-liveness {\n                remain-down-on-failure true\n            }\n        }\n        interface &quot;R2&quot; {\n            admin-state enable\n            advertise-router-capability true\n            interface-type point-to-point\n            hello-interval 1\n            bfd-liveness {\n                remain-down-on-failure true\n            }\n        }\n        interface &quot;R3&quot; {\n            admin-state enable\n            advertise-router-capability true\n            interface-type point-to-point\n            hello-interval 1\n            bfd-liveness {\n                remain-down-on-failure true\n            }\n        }\n        interface &quot;system&quot; {\n            admin-state enable\n            advertise-router-capability true\n            interface-type point-to-point\n            hello-interval 1\n            bfd-liveness {\n                remain-down-on-failure true\n            }\n        }\n    }\n\n[gl:/configure router &quot;Base&quot; ospf 0]\"><pre class=\"notranslate\"><code>[gl:/configure router \"Base\" ospf 0]\nA:admin@Hub# info intended | match \"##\" invert-match\n    admin-state enable\n    advertise-router-capability as\n    traffic-engineering true\n    area 0.0.0.0 {\n        interface \"R1\" {\n            admin-state enable\n            advertise-router-capability true\n            interface-type point-to-point\n            hello-interval 1\n            bfd-liveness {\n                remain-down-on-failure true\n            }\n        }\n        interface \"R2\" {\n            admin-state enable\n            advertise-router-capability true\n            interface-type point-to-point\n            hello-interval 1\n            bfd-liveness {\n                remain-down-on-failure true\n            }\n        }\n        interface \"R3\" {\n            admin-state enable\n            advertise-router-capability true\n            interface-type point-to-point\n            hello-interval 1\n            bfd-liveness {\n                remain-down-on-failure true\n            }\n        }\n        interface \"system\" {\n            admin-state enable\n            advertise-router-capability true\n            interface-type point-to-point\n            hello-interval 1\n            bfd-liveness {\n                remain-down-on-failure true\n            }\n        }\n    }\n\n[gl:/configure router \"Base\" ospf 0]\n</code></pre></div>\n<p dir=\"auto\">And confirm the OSPF adjacency status (again our peer devices have been pre-configured)</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"A:admin@Hub# show router ospf neighbor\n\n===============================================================================\nRtr Base OSPFv2 Instance 0 Neighbors\n===============================================================================\nInterface-Name                   Rtr Id          State      Pri  RetxQ   TTL\n   Area-Id\n-------------------------------------------------------------------------------\nR1                               10.0.0.1        Full       1    0       39\n   0.0.0.0\nR2                               10.0.0.2        Full       1    0       39\n   0.0.0.0\nR3                               10.0.0.3        ExchStart  1    0       39\n   0.0.0.0\n-------------------------------------------------------------------------------\nNo. of Neighbors: 3\n===============================================================================\"><pre class=\"notranslate\"><code>A:admin@Hub# show router ospf neighbor\n\n===============================================================================\nRtr Base OSPFv2 Instance 0 Neighbors\n===============================================================================\nInterface-Name                   Rtr Id          State      Pri  RetxQ   TTL\n   Area-Id\n-------------------------------------------------------------------------------\nR1                               10.0.0.1        Full       1    0       39\n   0.0.0.0\nR2                               10.0.0.2        Full       1    0       39\n   0.0.0.0\nR3                               10.0.0.3        ExchStart  1    0       39\n   0.0.0.0\n-------------------------------------------------------------------------------\nNo. of Neighbors: 3\n===============================================================================\n</code></pre></div>\n<p dir=\"auto\">While R1 and R2 appear to be functioning as expect, R3 seems to be having a problem - often ExchStart is a MTU related issue - as all of our Ports and Interfaces are using common configurations, it may be worth checking R3 to see if there is something non-standard - An MTU mismatch issue might be on the port or the IP Interface</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"A:admin@R3# info | match &quot; port 1&quot; post-lines 10\n    port 1/1/c1 {\n        admin-state enable\n        connector {\n            breakout c1-100g\n        }\n    }\n    port 1/1/c1/1 {\n        apply-groups [&quot;infra-port&quot;]\n        admin-state enable\n        ethernet {\n            # comment: Transport Bearer is MTU constrained\n            mtu 9000\n        }\n    }\n    router &quot;Base&quot; {\n        interface &quot;system&quot; {\n            ipv4 {\n            port 1/1/c1/1\n            ipv4 {\n                primary {\n                    address 192.168.3.0\n                }\n            }\n        }\n        ospf 0 {\n            apply-groups [&quot;infra-ospf&quot;]\n            admin-state enable\n            advertise-router-capability as\"><pre class=\"notranslate\"><code>A:admin@R3# info | match \" port 1\" post-lines 10\n    port 1/1/c1 {\n        admin-state enable\n        connector {\n            breakout c1-100g\n        }\n    }\n    port 1/1/c1/1 {\n        apply-groups [\"infra-port\"]\n        admin-state enable\n        ethernet {\n            # comment: Transport Bearer is MTU constrained\n            mtu 9000\n        }\n    }\n    router \"Base\" {\n        interface \"system\" {\n            ipv4 {\n            port 1/1/c1/1\n            ipv4 {\n                primary {\n                    address 192.168.3.0\n                }\n            }\n        }\n        ospf 0 {\n            apply-groups [\"infra-ospf\"]\n            admin-state enable\n            advertise-router-capability as\n</code></pre></div>\n<p dir=\"auto\">We can see that Port 1/1/c1/1 is using the infra-port configuration group but we can see that a local configuration is overriding the 9800 Byte MTU value to a 9000 byte value (we can also see that someone kindly used the  comment capability within MD-CLI to highlight why this is a problem, so we can fix it up on the Hub Router</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"A:admin@Hub# configure global\nINFO: CLI #2054: Entering global configuration mode\n\n[gl:/configure]\nA:admin@Hub# port 1/1/c3/1\n\n[gl:/configure port 1/1/c3/1]\nA:admin@Hub# # comment: R3 has a lower than standard MTU Link\n\n[gl:/configure port 1/1/c3/1]\nA:admin@Hub# ethernet mtu 9000\n\n*[gl:/configure port 1/1/c3/1]\nA:admin@Hub# commit\n\n[gl:/configure port 1/1/c3/1]\nA:admin@Hub# show router ospf neighbor\n\n===============================================================================\nRtr Base OSPFv2 Instance 0 Neighbors\n===============================================================================\nInterface-Name                   Rtr Id          State      Pri  RetxQ   TTL\n   Area-Id\n-------------------------------------------------------------------------------\nR1                               10.0.0.1        Full       1    0       39\n   0.0.0.0\nR2                               10.0.0.2        Full       1    0       39\n   0.0.0.0\nR3                               10.0.0.3        Full       1    0       39\n   0.0.0.0\n-------------------------------------------------------------------------------\nNo. of Neighbors: 3\n===============================================================================\n\n[gl:/configure port 1/1/c3/1]\nA:admin@Hub# show router ospf hostname\n\n===============================================================================\nRtr Base OSPFv2 Instance 0 Hostnames\n===============================================================================\nRouter Id       Hostname\n-------------------------------------------------------------------------------\n10.0.0.1        R1\n10.0.0.2        R2\n10.0.0.3        R3\n10.0.0.255      Hub\n-------------------------------------------------------------------------------\nHostnames : 4\n===============================================================================\n\"><pre class=\"notranslate\"><code>A:admin@Hub# configure global\nINFO: CLI #2054: Entering global configuration mode\n\n[gl:/configure]\nA:admin@Hub# port 1/1/c3/1\n\n[gl:/configure port 1/1/c3/1]\nA:admin@Hub# # comment: R3 has a lower than standard MTU Link\n\n[gl:/configure port 1/1/c3/1]\nA:admin@Hub# ethernet mtu 9000\n\n*[gl:/configure port 1/1/c3/1]\nA:admin@Hub# commit\n\n[gl:/configure port 1/1/c3/1]\nA:admin@Hub# show router ospf neighbor\n\n===============================================================================\nRtr Base OSPFv2 Instance 0 Neighbors\n===============================================================================\nInterface-Name                   Rtr Id          State      Pri  RetxQ   TTL\n   Area-Id\n-------------------------------------------------------------------------------\nR1                               10.0.0.1        Full       1    0       39\n   0.0.0.0\nR2                               10.0.0.2        Full       1    0       39\n   0.0.0.0\nR3                               10.0.0.3        Full       1    0       39\n   0.0.0.0\n-------------------------------------------------------------------------------\nNo. of Neighbors: 3\n===============================================================================\n\n[gl:/configure port 1/1/c3/1]\nA:admin@Hub# show router ospf hostname\n\n===============================================================================\nRtr Base OSPFv2 Instance 0 Hostnames\n===============================================================================\nRouter Id       Hostname\n-------------------------------------------------------------------------------\n10.0.0.1        R1\n10.0.0.2        R2\n10.0.0.3        R3\n10.0.0.255      Hub\n-------------------------------------------------------------------------------\nHostnames : 4\n===============================================================================\n\n</code></pre></div>\n<p dir=\"auto\">We can see that routes are being exchanged and things are working as intended</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"[gl:/configure port 1/1/c3/1]\nA:admin@Hub# show router route-table\n\n===============================================================================\nRoute Table (Router: Base)\n===============================================================================\nDest Prefix[Flags]                            Type    Proto     Age        Pref\n      Next Hop[Interface Name]                                    Metric\n-------------------------------------------------------------------------------\n10.0.0.1/32                                   Remote  OSPF      00h13m38s  10\n       192.168.1.0                                                  1\n10.0.0.2/32                                   Remote  OSPF      00h13m44s  10\n       192.168.2.0                                                  1\n10.0.0.3/32                                   Remote  OSPF      00h03m46s  10\n       192.168.3.0                                                  1\n10.0.0.255/32                                 Local   Local     00h36m32s  0\n       system                                                       0\n192.168.1.0/31                                Local   Local     00h36m32s  0\n       R1                                                           0\n192.168.2.0/31                                Local   Local     00h21m42s  0\n       R2                                                           0\n192.168.3.0/31                                Local   Local     00h21m42s  0\n       R3                                                           0\n-------------------------------------------------------------------------------\nNo. of Routes: 7\nFlags: n = Number of times nexthop is repeated\n       B = BGP backup route available\n       L = LFA nexthop available\n       S = Sticky ECMP requested\n===============================================================================\"><pre class=\"notranslate\"><code>[gl:/configure port 1/1/c3/1]\nA:admin@Hub# show router route-table\n\n===============================================================================\nRoute Table (Router: Base)\n===============================================================================\nDest Prefix[Flags]                            Type    Proto     Age        Pref\n      Next Hop[Interface Name]                                    Metric\n-------------------------------------------------------------------------------\n10.0.0.1/32                                   Remote  OSPF      00h13m38s  10\n       192.168.1.0                                                  1\n10.0.0.2/32                                   Remote  OSPF      00h13m44s  10\n       192.168.2.0                                                  1\n10.0.0.3/32                                   Remote  OSPF      00h03m46s  10\n       192.168.3.0                                                  1\n10.0.0.255/32                                 Local   Local     00h36m32s  0\n       system                                                       0\n192.168.1.0/31                                Local   Local     00h36m32s  0\n       R1                                                           0\n192.168.2.0/31                                Local   Local     00h21m42s  0\n       R2                                                           0\n192.168.3.0/31                                Local   Local     00h21m42s  0\n       R3                                                           0\n-------------------------------------------------------------------------------\nNo. of Routes: 7\nFlags: n = Number of times nexthop is repeated\n       B = BGP backup route available\n       L = LFA nexthop available\n       S = Sticky ECMP requested\n===============================================================================\n</code></pre></div>\n<h3 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-final-words\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#final-words\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Final Words</h3>\n<p dir=\"auto\">While this has been a long procedure to highlight how configuration groups may be beneficial in your designs.\nIt needed to be somewhat lengthy to demonstrate some applications as to where configuration groups could assist in reducing configuration while still maintaining standards in a production network.</p>\n<p dir=\"auto\">While config groups help drive standardisation, if you need to override a particular setting - this is support an can become more obvious that a non-standard configuration exists as it \"sticks out\".  When leveraging the integrated \"commentary capability\" within the configuration, it will also help put an explanation as to why a non-standard configuration parameter was necessary.</p>\n</article>","renderedFileInfo":null,"shortPath":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"thinghacker","repoName":"blog-labs","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":null,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timedOut":false,"notAnalyzed":false,"symbols":[{"name":"Containerlab topology to demonstrate Configuration Groups in Nokia SROS Model Driven CLI","kind":"section_1","identStart":2,"identEnd":90,"extentStart":0,"extentEnd":33422,"fullyQualifiedName":"Containerlab topology to demonstrate Configuration Groups in Nokia SROS Model Driven CLI","identUtf16":{"start":{"lineNumber":0,"utf16Col":2},"end":{"lineNumber":0,"utf16Col":90}},"extentUtf16":{"start":{"lineNumber":0,"utf16Col":0},"end":{"lineNumber":886,"utf16Col":0}}},{"name":"Step #0 - Obtain Containerlab","kind":"section_2","identStart":1376,"identEnd":1405,"extentStart":1373,"extentEnd":1446,"fullyQualifiedName":"Step #0 - Obtain Containerlab","identUtf16":{"start":{"lineNumber":18,"utf16Col":3},"end":{"lineNumber":18,"utf16Col":32}},"extentUtf16":{"start":{"lineNumber":18,"utf16Col":0},"end":{"lineNumber":22,"utf16Col":0}}},{"name":"Step #1 - Ensure that you have a SROS docker image and valid license key","kind":"section_2","identStart":1449,"identEnd":1521,"extentStart":1446,"extentEnd":1878,"fullyQualifiedName":"Step #1 - Ensure that you have a SROS docker image and valid license key","identUtf16":{"start":{"lineNumber":22,"utf16Col":3},"end":{"lineNumber":22,"utf16Col":75}},"extentUtf16":{"start":{"lineNumber":22,"utf16Col":0},"end":{"lineNumber":29,"utf16Col":0}}},{"name":"Step #2 - Start the Container Lab Instance","kind":"section_2","identStart":1881,"identEnd":1923,"extentStart":1878,"extentEnd":2547,"fullyQualifiedName":"Step #2 - Start the Container Lab Instance","identUtf16":{"start":{"lineNumber":29,"utf16Col":3},"end":{"lineNumber":29,"utf16Col":45}},"extentUtf16":{"start":{"lineNumber":29,"utf16Col":0},"end":{"lineNumber":41,"utf16Col":0}}},{"name":"Step #3 - Wait until all of the routers are \"Healthy\"","kind":"section_2","identStart":2550,"identEnd":2603,"extentStart":2547,"extentEnd":3001,"fullyQualifiedName":"Step #3 - Wait until all of the routers are \"Healthy\"","identUtf16":{"start":{"lineNumber":41,"utf16Col":3},"end":{"lineNumber":41,"utf16Col":56}},"extentUtf16":{"start":{"lineNumber":41,"utf16Col":0},"end":{"lineNumber":52,"utf16Col":0}}},{"name":"Step #4 - Connect to the Hub Router and start configuring the ports facing towards R1, R2 and R3","kind":"section_2","identStart":3004,"identEnd":3100,"extentStart":3001,"extentEnd":9395,"fullyQualifiedName":"Step #4 - Connect to the Hub Router and start configuring the ports facing towards R1, R2 and R3","identUtf16":{"start":{"lineNumber":52,"utf16Col":3},"end":{"lineNumber":52,"utf16Col":99}},"extentUtf16":{"start":{"lineNumber":52,"utf16Col":0},"end":{"lineNumber":206,"utf16Col":0}}},{"name":"Step #5 - Create Configuration Groups for our Ethernet Ports","kind":"section_2","identStart":9398,"identEnd":9458,"extentStart":9395,"extentEnd":17929,"fullyQualifiedName":"Step #5 - Create Configuration Groups for our Ethernet Ports","identUtf16":{"start":{"lineNumber":206,"utf16Col":3},"end":{"lineNumber":206,"utf16Col":63}},"extentUtf16":{"start":{"lineNumber":206,"utf16Col":0},"end":{"lineNumber":466,"utf16Col":0}}},{"name":"Step #6 - Templating to Support IP Interface definitions","kind":"section_2","identStart":17932,"identEnd":17988,"extentStart":17929,"extentEnd":23474,"fullyQualifiedName":"Step #6 - Templating to Support IP Interface definitions","identUtf16":{"start":{"lineNumber":466,"utf16Col":3},"end":{"lineNumber":466,"utf16Col":59}},"extentUtf16":{"start":{"lineNumber":466,"utf16Col":0},"end":{"lineNumber":630,"utf16Col":0}}},{"name":"Step #7 - Templates in Routing","kind":"section_2","identStart":23477,"identEnd":23507,"extentStart":23474,"extentEnd":33422,"fullyQualifiedName":"Step #7 - Templates in Routing","identUtf16":{"start":{"lineNumber":630,"utf16Col":3},"end":{"lineNumber":630,"utf16Col":33}},"extentUtf16":{"start":{"lineNumber":630,"utf16Col":0},"end":{"lineNumber":886,"utf16Col":0}}},{"name":"Final Words","kind":"section_3","identStart":32709,"identEnd":32720,"extentStart":32705,"extentEnd":33422,"fullyQualifiedName":"Final Words","identUtf16":{"start":{"lineNumber":878,"utf16Col":4},"end":{"lineNumber":878,"utf16Col":15}},"extentUtf16":{"start":{"lineNumber":878,"utf16Col":0},"end":{"lineNumber":886,"utf16Col":0}}}]}},"copilotInfo":{"documentationUrl":"https://docs.github.com/copilot/overview-of-github-copilot/about-github-copilot-for-individuals","notices":{"codeViewPopover":{"dismissed":false,"dismissPath":"/settings/dismiss-notice/code_view_copilot_popover"}},"userAccess":{"accessAllowed":false,"hasSubscriptionEnded":false,"orgHasCFBAccess":false,"userHasCFIAccess":false,"userHasOrgs":false,"userIsOrgAdmin":false,"userIsOrgMember":false,"business":null,"featureRequestInfo":null}},"copilotAccessAllowed":false,"csrf_tokens":{"/thinghacker/blog-labs/branches":{"post":"Sg1KHTQkbUT2I3Yri1YDeDc4kbPTtBPMwbPlMbunnyQvOjrx7iCaiOrA8r1k5WGZPOtqsYfLA9DlFMqZrElMxA"},"/repos/preferences":{"post":"yTCal5dXDsEM0QN37QoS8r-n4Xhc8yIeyvCUKH4wJiJHjtx1ToK-ZDtaW_hMamSexi6pbuj4bN6ibGdHumJyuQ"}}},"title":"blog-labs/configgroups/README.md at main · thinghacker/blog-labs"}